jQuery(function(e){var c=function(g,j,f){var i='<button class="button %cssClass%" style="margin-right: 10px;">%label%</button>'.replace("%label%",g).replace("%cssClass%",f||"");var h=e(i);h.on("click",j);return h};var a=function(f){var g="<h3>%title%</h3><p>%body%</p>".replace("%title%",f.title||"").replace("%body%",f.body||"");return e.extend(true,{content:g,position:{edge:"left",align:"left"}},f)};var d=function(f){var g=this;this.pointers=e();this.type=f.type||"global";this.i18n=f.i18n||{done:"Done",next:"Next",previous:"Previous"};this.current=false;if(f.items){e.each(f.items,function(i,j){var h=e(i).pointer(a(j)).data("wpPointer");g.pointers.push(h)})}this.next=function(){this.open(this.current+1)};this.previous=function(){this.open(this.current-1)};this.start=function(){this.open(0)};this.open=function(j){if(this.pointers[this.current]){this.pointers[this.current].close()}if(this.pointers[j]){this.current=parseInt(j);var i=this.pointers.get(this.current);i.open();var h=i.element.offset().top-i.element.outerHeight()-100;var k=i.content.find(".wp-pointer-buttons");k.find(".close").on("click",e.proxy(this.dismiss,this));e(document.body).animate({scrollTop:h});if(this.current!==0){k.append(c(this.i18n.previous,e.proxy(this.previous,this)))}if(this.current<this.pointers.length-1){k.append(c(this.i18n.next,e.proxy(this.next,this),"button-primary"))}if(this.current===this.pointers.length-1){k.append(c(this.i18n.done,e.proxy(this.dismiss,this),"button-primary"))}}};this.dismiss=function(){this.pointers[this.current].close();jQuery.get(ajaxurl,{action:"totalpoll_hide_pointers",type:this.type})}};if(window.totalpollPointers){var b=new d(window.totalpollPointers);b.start()}});